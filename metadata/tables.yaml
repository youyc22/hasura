- table:
    name: aid_application
    schema: public
  object_relationships:
    - name: user
      using:
        foreign_key_constraint_on: student_uuid
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - aid
          - amount
          - code
          - created_at
          - form_url
          - id
          - status
          - student_id
          - student_uuid
          - thank_letter
          - updated_at
  select_permissions:
    - role: counselor
      permission:
        columns:
          - aid
          - amount
          - code
          - created_at
          - form_url
          - id
          - status
          - student_id
          - student_uuid
          - thank_letter
          - updated_at
        filter: {}
    - role: student
      permission:
        columns:
          - aid
          - amount
          - code
          - created_at
          - form_url
          - id
          - status
          - student_id
          - student_uuid
          - thank_letter
          - updated_at
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: student
      permission:
        columns:
          - form_url
          - thank_letter
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
        check:
          student_uuid:
            _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
- table:
    name: contest
    schema: public
  array_relationships:
    - name: contest_managers
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_manager
            schema: public
    - name: contest_maps
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_map
            schema: public
    - name: contest_notices
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_notice
            schema: public
    - name: contest_players
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_player
            schema: public
    - name: contest_rooms
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_room
            schema: public
    - name: contest_rounds
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_round
            schema: public
    - name: contest_teams
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_team
            schema: public
    - name: contest_times
      using:
        foreign_key_constraint_on:
          column: contest_id
          table:
            name: contest_time
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter: {}
    - role: counselor
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter: {}
    - role: student
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter: {}
    - role: teacher
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter: {}
    - role: user
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter:
          contest_managers:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: {}
    - role: student
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter:
          contest_managers:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: {}
    - role: teacher
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter:
          contest_managers:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: {}
    - role: user
      permission:
        columns:
          - arena_switch
          - code_upload_switch
          - fullname
          - contest_type
          - description
          - end_date
          - id
          - name
          - playback_switch
          - playground_switch
          - start_date
          - status
          - stream_switch
          - team_switch
        filter:
          contest_managers:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: {}
- table:
    name: contest_code
    schema: public
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - team_id
          - code1
          - code2
          - code3
          - code4
          - code5
          - code6
          - created_at
          - updated_at
          - contest_id
          - code1_update_time
          - code2_update_time
          - code3_update_time
          - code4_update_time
          - code5_update_time
          - code6_update_time
    - role: student
      permission:
        check: {}
        columns:
          - team_id
          - code1
          - code2
          - code3
          - code4
          - code5
          - code6
          - created_at
          - updated_at
          - contest_id
          - code1_update_time
          - code2_update_time
          - code3_update_time
          - code4_update_time
          - code5_update_time
          - code6_update_time
          - code_type1
          - code_type2
          - code_type3
          - code_type4
          - code_type5
          - code_type6
  select_permissions:
    - role: counselor
      permission:
        columns:
          - code1
          - code2
          - code3
          - code4
          - code5
          - code6
          - code1_update_time
          - code2_update_time
          - code3_update_time
          - code4_update_time
          - code5_update_time
          - code6_update_time
          - created_at
          - updated_at
          - contest_id
          - team_id
        filter: {}
    - role: student
      permission:
        columns:
          - code1
          - code2
          - code3
          - code4
          - code5
          - code6
          - code_type1
          - code_type2
          - code_type3
          - code_type4
          - code_type5
          - code_type6
          - code1_update_time
          - code2_update_time
          - code3_update_time
          - code4_update_time
          - code5_update_time
          - code6_update_time
          - created_at
          - updated_at
          - contest_id
          - team_id
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - code1
          - code2
          - code3
          - code4
          - code5
          - code6
          - code1_update_time
          - code2_update_time
          - code3_update_time
          - code4_update_time
          - code5_update_time
          - code6_update_time
          - created_at
          - updated_at
          - contest_id
          - team_id
        filter: {}
        check: null
    - role: student
      permission:
        columns:
          - code1
          - code2
          - code3
          - code4
          - code5
          - code6
          - code_type1
          - code_type2
          - code_type3
          - code_type4
          - code_type5
          - code_type6
          - code1_update_time
          - code2_update_time
          - code3_update_time
          - code4_update_time
          - code5_update_time
          - code6_update_time
          - created_at
          - updated_at
          - contest_id
          - team_id
        filter: {}
        check: null
- table:
    name: contest_manager
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
    - name: user
      using:
        foreign_key_constraint_on: user_uuid
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - contest_id
          - user_uuid
        filter: {}
    - role: counselor
      permission:
        columns:
          - contest_id
          - user_uuid
        filter: {}
    - role: student
      permission:
        columns:
          - contest_id
          - user_uuid
        filter: {}
    - role: teacher
      permission:
        columns:
          - contest_id
          - user_uuid
        filter: {}
    - role: user
      permission:
        columns:
          - contest_id
          - user_uuid
        filter: {}
- table:
    name: contest_map
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
  array_relationships:
    - name: contest_map_rooms
      using:
        foreign_key_constraint_on:
          column: map_id
          table:
            name: contest_room
            schema: public
    - name: contest_rounds
      using:
        foreign_key_constraint_on:
          column: map_id
          table:
            name: contest_round
            schema: public
  insert_permissions:
    - role: counselor
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
    - role: student
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
    - role: teacher
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
    - role: user
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
  select_permissions:
    - role: counselor
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter: {}
    - role: student
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter: {}
    - role: teacher
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter: {}
    - role: user
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - filename
          - name
          - team_labels
          - contest_id
          - map_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: contest_notice
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
  insert_permissions:
    - role: counselor
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
    - role: student
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
    - role: teacher
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
    - role: user
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter: {}
    - role: counselor
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter: {}
    - role: student
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter: {}
    - role: teacher
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter: {}
    - role: user
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - id
          - created_at
          - updated_at
          - content
          - files
          - title
          - contest_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: contest_player
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - contest_id
          - player_label
          - roles_available
          - team_label
        filter: {}
    - role: counselor
      permission:
        columns:
          - contest_id
          - player_label
          - roles_available
          - team_label
        filter: {}
    - role: student
      permission:
        columns:
          - contest_id
          - player_label
          - roles_available
          - team_label
        filter: {}
    - role: teacher
      permission:
        columns:
          - contest_id
          - player_label
          - roles_available
          - team_label
        filter: {}
    - role: user
      permission:
        columns:
          - contest_id
          - player_label
          - roles_available
          - team_label
        filter: {}
- table:
    name: contest_room
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
    - name: contest_map
      using:
        foreign_key_constraint_on: map_id
    - name: contest_round
      using:
        foreign_key_constraint_on: round_id
  array_relationships:
    - name: contest_room_teams
      using:
        foreign_key_constraint_on:
          column: room_id
          table:
            name: contest_room_team
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - status
          - result
          - created_at
          - room_id
          - contest_id
          - port
          - round_id
          - map_id
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: counselor
      permission:
        columns:
          - status
          - result
          - created_at
          - room_id
          - contest_id
          - port
          - round_id
          - map_id
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - status
          - result
          - created_at
          - room_id
          - contest_id
          - port
          - round_id
          - map_id
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - status
          - result
          - created_at
          - room_id
          - contest_id
          - port
          - round_id
          - map_id
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - status
          - result
          - created_at
          - room_id
          - contest_id
          - port
          - round_id
          - map_id
          - updated_at
        filter: {}
        allow_aggregations: true
- table:
    name: contest_room_team
    schema: public
  object_relationships:
    - name: contest_room
      using:
        foreign_key_constraint_on: room_id
    - name: contest_team
      using:
        foreign_key_constraint_on: team_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - team_id
          - room_id
          - score
          - team_label
          - player_roles
          - player_codes
        filter: {}
        allow_aggregations: true
    - role: counselor
      permission:
        columns:
          - team_id
          - room_id
          - score
          - team_label
          - player_roles
          - player_codes
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - team_id
          - room_id
          - score
          - team_label
          - player_roles
          - player_codes
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - team_id
          - room_id
          - score
          - team_label
          - player_roles
          - player_codes
        filter: {}
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - team_id
          - room_id
          - score
          - team_label
          - player_roles
          - player_codes
        filter: {}
        allow_aggregations: true
- table:
    name: contest_round
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
    - name: contest_map
      using:
        foreign_key_constraint_on: map_id
  array_relationships:
    - name: contest_round_rooms
      using:
        foreign_key_constraint_on:
          column: round_id
          table:
            name: contest_room
            schema: public
  insert_permissions:
    - role: counselor
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - map_id
          - name
          - round_id
    - role: student
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - map_id
          - name
          - round_id
    - role: teacher
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - map_id
          - name
          - round_id
    - role: user
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - map_id
          - name
          - round_id
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - name
          - contest_id
          - map_id
          - round_id
        filter: {}
    - role: counselor
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter: {}
    - role: student
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter: {}
    - role: teacher
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter: {}
    - role: user
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - contest_id
          - map_id
          - name
          - round_id
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: contest_team
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
    - name: team_leader
      using:
        foreign_key_constraint_on: team_leader_uuid
  array_relationships:
    - name: contest_team_codes
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: contest_team_code
            schema: public
    - name: contest_team_members
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: contest_team_member
            schema: public
    - name: contest_team_players
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: contest_team_player
            schema: public
    - name: contest_team_rooms
      using:
        foreign_key_constraint_on:
          column: team_id
          table:
            name: contest_room_team
            schema: public
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
    - role: student
      permission:
        check: {}
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
    - role: teacher
      permission:
        check: {}
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
    - role: user
      permission:
        check: {}
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: counselor
      permission:
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - contest_id
          - contest_score
          - created_at
          - invited_code
          - member_num
          - score
          - status
          - status2
          - submitted_code_num
          - team_id
          - team_intro
          - team_leader_uuid
          - team_name
          - updated_at
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - submitted_code_num
          - contest_score
          - invited_code
          - score
          - status
          - status2
          - team_intro
          - team_name
          - created_at
          - updated_at
          - contest_id
          - team_id
          - team_leader_uuid
          - member_num
        filter:
          contest_team_members:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: null
    - role: student
      permission:
        columns:
          - submitted_code_num
          - contest_score
          - invited_code
          - score
          - status
          - status2
          - team_intro
          - team_name
          - created_at
          - updated_at
          - contest_id
          - team_id
          - team_leader_uuid
          - member_num
        filter:
          contest_team_members:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: null
    - role: teacher
      permission:
        columns:
          - submitted_code_num
          - contest_score
          - invited_code
          - score
          - status
          - status2
          - team_intro
          - team_name
          - created_at
          - updated_at
          - contest_id
          - team_id
          - team_leader_uuid
          - member_num
        filter:
          contest_team_members:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: null
    - role: user
      permission:
        columns:
          - submitted_code_num
          - contest_score
          - invited_code
          - score
          - status
          - status2
          - team_intro
          - team_name
          - created_at
          - updated_at
          - contest_id
          - team_id
          - team_leader_uuid
          - member_num
        filter:
          contest_team_members:
            user_uuid:
              _eq: X-Hasura-User-Id
        check: null
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          team_leader_uuid:
            _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          team_leader_uuid:
            _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          team_leader_uuid:
            _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          team_leader_uuid:
            _eq: X-Hasura-User-Id
- table:
    name: contest_team_code
    schema: public
  object_relationships:
    - name: contest_team
      using:
        foreign_key_constraint_on: team_id
  insert_permissions:
    - role: counselor
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
    - role: student
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
    - role: teacher
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
    - role: user
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
  select_permissions:
    - role: counselor
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          _or:
            - contest_team:
                contest_team_members:
                  user_uuid:
                    _eq: X-Hasura-User-Id
            - contest_team:
                contest:
                  contest_managers:
                    user_uuid:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          _or:
            - contest_team:
                contest_team_members:
                  user_uuid:
                    _eq: X-Hasura-User-Id
            - contest_team:
                contest:
                  contest_managers:
                    user_uuid:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          _or:
            - contest_team:
                contest_team_members:
                  user_uuid:
                    _eq: X-Hasura-User-Id
            - contest_team:
                contest:
                  contest_managers:
                    user_uuid:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          _or:
            - contest_team:
                contest_team_members:
                  user_uuid:
                    _eq: X-Hasura-User-Id
            - contest_team:
                contest:
                  contest_managers:
                    user_uuid:
                      _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - code_id
          - code_name
          - compile_status
          - created_at
          - language
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: contest_team_member
    schema: public
  object_relationships:
    - name: contest_team
      using:
        foreign_key_constraint_on: team_id
    - name: user
      using:
        foreign_key_constraint_on: user_uuid
  insert_permissions:
    - role: counselor
      permission:
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - team_id
          - user_uuid
    - role: student
      permission:
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - team_id
          - user_uuid
    - role: teacher
      permission:
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - team_id
          - user_uuid
    - role: user
      permission:
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - team_id
          - user_uuid
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - team_id
          - user_uuid
        filter: {}
        allow_aggregations: true
    - role: counselor
      permission:
        columns:
          - team_id
          - user_uuid
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - team_id
          - user_uuid
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - team_id
          - user_uuid
        filter: {}
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - team_id
          - user_uuid
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - team_id
          - user_uuid
        filter:
          user_uuid:
            _eq: X-Hasura-User-Id
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - team_id
          - user_uuid
        filter:
          user_uuid:
            _eq: X-Hasura-User-Id
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - team_id
          - user_uuid
        filter:
          user_uuid:
            _eq: X-Hasura-User-Id
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - team_id
          - user_uuid
        filter:
          user_uuid:
            _eq: X-Hasura-User-Id
        check:
          user_uuid:
            _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          _or:
            - user_uuid:
                _eq: X-Hasura-User-Id
            - contest_team:
                team_leader_uuid:
                  _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          _or:
            - user_uuid:
                _eq: X-Hasura-User-Id
            - contest_team:
                team_leader_uuid:
                  _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          _or:
            - user_uuid:
                _eq: X-Hasura-User-Id
            - contest_team:
                team_leader_uuid:
                  _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          _or:
            - user_uuid:
                _eq: X-Hasura-User-Id
            - contest_team:
                team_leader_uuid:
                  _eq: X-Hasura-User-Id
- table:
    name: contest_team_player
    schema: public
  object_relationships:
    - name: contest_team
      using:
        foreign_key_constraint_on: team_id
    - name: player_code
      using:
        foreign_key_constraint_on: code_id
  insert_permissions:
    - role: counselor
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - player
          - role
          - code_id
          - team_id
    - role: student
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - player
          - role
          - code_id
          - team_id
    - role: teacher
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - player
          - role
          - code_id
          - team_id
    - role: user
      permission:
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - player
          - role
          - code_id
          - team_id
  select_permissions:
    - role: counselor
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
  update_permissions:
    - role: counselor
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - player
          - role
          - code_id
          - team_id
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          contest_team:
            contest_team_members:
              user_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: contest_time
    schema: public
  object_relationships:
    - name: contest
      using:
        foreign_key_constraint_on: contest_id
  insert_permissions:
    - role: counselor
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - event
          - start
          - end
          - description
    - role: student
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - event
          - start
          - end
          - description
    - role: teacher
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - event
          - start
          - end
          - description
    - role: user
      permission:
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        columns:
          - contest_id
          - event
          - start
          - end
          - description
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - description
          - event
          - end
          - start
          - contest_id
        filter: {}
    - role: counselor
      permission:
        columns:
          - description
          - event
          - end
          - start
          - contest_id
        filter: {}
    - role: student
      permission:
        columns:
          - description
          - event
          - end
          - start
          - contest_id
        filter: {}
    - role: teacher
      permission:
        columns:
          - description
          - event
          - end
          - start
          - contest_id
        filter: {}
    - role: user
      permission:
        columns:
          - description
          - event
          - end
          - start
          - contest_id
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - contest_id
          - event
          - start
          - end
          - description
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        columns:
          - contest_id
          - event
          - start
          - end
          - description
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - contest_id
          - event
          - start
          - end
          - description
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        columns:
          - contest_id
          - event
          - start
          - end
          - description
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
        check:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: student
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
    - role: user
      permission:
        backend_only: false
        filter:
          contest:
            contest_managers:
              user_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: department
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - name
        filter: {}
    - role: counselor
      permission:
        columns:
          - name
        filter: {}
    - role: student
      permission:
        columns:
          - name
        filter: {}
    - role: teacher
      permission:
        columns:
          - name
        filter: {}
    - role: user
      permission:
        columns:
          - name
        filter: {}
- table:
    name: honor_application
    schema: public
  object_relationships:
    - name: student_byuuid
      using:
        foreign_key_constraint_on: student_uuid
  insert_permissions:
    - role: student
      permission:
        check:
          _and:
            - student_uuid:
                _eq: X-Hasura-User-Id
            - created_at:
                _lt: "2022-10-05T23:59:59+08:00"
            - created_at:
                _gt: "2022-10-01T00:00:00+08:00"
        columns:
          - attachment_url
          - honor
          - statement
          - status
          - student_id
          - student_uuid
  select_permissions:
    - role: counselor
      permission:
        columns:
          - attachment_url
          - created_at
          - honor
          - id
          - statement
          - status
          - student_id
          - student_uuid
          - updated_at
        filter: {}
    - role: student
      permission:
        columns:
          - attachment_url
          - created_at
          - honor
          - id
          - statement
          - status
          - student_id
          - student_uuid
          - updated_at
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: counselor
      permission:
        columns:
          - status
        filter: {}
        check: {}
    - role: student
      permission:
        columns:
          - attachment_url
          - honor
          - statement
          - status
          - student_id
          - student_uuid
        filter:
          _and:
            - student_uuid:
                _eq: X-Hasura-User-Id
            - updated_at:
                _lt: "2022-10-05T23:59:59+08:00"
            - updated_at:
                _gt: "2022-10-01T00:00:00+08:00"
        check: {}
  delete_permissions:
    - role: student
      permission:
        backend_only: false
        filter:
          _and:
            - student_uuid:
                _eq: X-Hasura-User-Id
            - created_at:
                _lt: "2022-10-05T23:59:59+08:00"
            - created_at:
                _gt: "2022-10-01T00:00:00+08:00"
- table:
    name: honor_time
    schema: public
- table:
    name: honor_type
    schema: public
- table:
    name: info_notice
    schema: public
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - content
          - created_at
          - files
          - id
          - notice_type
          - title
          - updated_at
  select_permissions:
    - role: counselor
      permission:
        columns:
          - content
          - created_at
          - files
          - id
          - notice_type
          - title
          - updated_at
        filter: {}
    - role: student
      permission:
        columns:
          - content
          - created_at
          - files
          - id
          - notice_type
          - title
          - updated_at
        filter: {}
    - role: teacher
      permission:
        columns:
          - content
          - created_at
          - files
          - id
          - notice_type
          - title
          - updated_at
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - content
          - files
          - id
          - notice_type
          - title
        filter: {}
        check: {}
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
- table:
    name: mentor_application
    schema: public
  object_relationships:
    - name: mentor_byuuid
      using:
        foreign_key_constraint_on: mentor_uuid
    - name: student_byuuid
      using:
        foreign_key_constraint_on: student_uuid
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - id
          - created_at
          - updated_at
          - statement
          - mentor_id
          - student_id
          - status
          - chat_status
          - mentor_uuid
          - student_uuid
    - role: student
      permission:
        check:
          student_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - mentor_id
          - mentor_uuid
          - statement
          - student_id
          - student_uuid
  select_permissions:
    - role: counselor
      permission:
        columns:
          - chat_status
          - mentor_id
          - statement
          - student_id
          - created_at
          - updated_at
          - id
          - mentor_uuid
          - student_uuid
          - status
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - chat_status
          - mentor_id
          - statement
          - student_id
          - created_at
          - updated_at
          - id
          - mentor_uuid
          - student_uuid
          - status
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - chat_status
          - mentor_id
          - statement
          - student_id
          - created_at
          - updated_at
          - id
          - mentor_uuid
          - student_uuid
          - status
        filter:
          mentor_uuid:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: counselor
      permission:
        columns:
          - chat_status
          - mentor_id
          - statement
          - student_id
          - created_at
          - updated_at
          - id
          - mentor_uuid
          - student_uuid
          - status
        filter: {}
        check: {}
    - role: student
      permission:
        columns:
          - chat_status
          - statement
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
        check:
          student_uuid:
            _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - status
        filter:
          mentor_uuid:
            _eq: X-Hasura-User-Id
        check:
          mentor_uuid:
            _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
    - role: student
      permission:
        backend_only: false
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
  event_triggers:
    - name: send_email
      definition:
        enable_manual: true
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: https://api.eesast.com/emails/events
      headers:
        - name: x-hasura-action-secret
          value_from_env: ACTION_SECRET
- table:
    name: mentor_available
    schema: public
  object_relationships:
    - name: mentor_byuuid
      using:
        foreign_key_constraint_on: mentor_uuid
  insert_permissions:
    - role: teacher
      permission:
        check:
          mentor_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - available
          - mentor_id
          - mentor_uuid
  select_permissions:
    - role: counselor
      permission:
        columns:
          - created_at
          - updated_at
          - mentor_id
          - available
          - mentor_uuid
        filter: {}
    - role: student
      permission:
        columns:
          - available
          - mentor_id
          - created_at
          - updated_at
          - mentor_uuid
        filter: {}
    - role: teacher
      permission:
        columns:
          - available
          - mentor_id
          - created_at
          - updated_at
          - mentor_uuid
        filter:
          mentor_uuid:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: teacher
      permission:
        columns:
          - available
        filter:
          mentor_uuid:
            _eq: X-Hasura-User-Id
        check:
          mentor_uuid:
            _eq: X-Hasura-User-Id
- table:
    name: mentor_info
    schema: public
  object_relationships:
    - name: userByMentorUuid
      using:
        foreign_key_constraint_on: mentor_uuid
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - mentor_id
          - intro
          - background
          - field
          - achievement
          - created_at
          - updated_at
          - mentor_uuid
    - role: teacher
      permission:
        check:
          mentor_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - achievement
          - background
          - created_at
          - field
          - intro
          - mentor_id
          - mentor_uuid
          - updated_at
  select_permissions:
    - role: counselor
      permission:
        columns:
          - mentor_id
          - created_at
          - updated_at
          - mentor_uuid
          - achievement
          - background
          - field
          - intro
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - achievement
          - background
          - field
          - intro
          - mentor_id
          - mentor_uuid
        filter: {}
    - role: teacher
      permission:
        columns:
          - achievement
          - background
          - created_at
          - field
          - intro
          - mentor_id
          - mentor_uuid
          - updated_at
        filter:
          mentor_uuid:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: counselor
      permission:
        columns:
          - mentor_id
          - created_at
          - updated_at
          - mentor_uuid
          - achievement
          - background
          - field
          - intro
        filter: {}
        check: {}
    - role: teacher
      permission:
        columns:
          - achievement
          - background
          - created_at
          - field
          - intro
          - updated_at
        filter:
          mentor_uuid:
            _eq: X-Hasura-User-Id
        check:
          mentor_uuid:
            _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
- table:
    name: mentor_message
    schema: public
  object_relationships:
    - name: from_userbyuuid
      using:
        foreign_key_constraint_on: from_uuid
    - name: to_userbyuuid
      using:
        foreign_key_constraint_on: to_uuid
  insert_permissions:
    - role: student
      permission:
        check:
          from_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - from_id
          - from_uuid
          - payload
          - to_id
          - to_uuid
    - role: teacher
      permission:
        check:
          from_uuid:
            _eq: X-Hasura-User-Id
        columns:
          - from_id
          - from_uuid
          - payload
          - to_id
          - to_uuid
  select_permissions:
    - role: student
      permission:
        columns:
          - from_id
          - payload
          - to_id
          - created_at
          - updated_at
          - from_uuid
          - id
          - to_uuid
        filter:
          _or:
            - from_uuid:
                _eq: X-Hasura-User-Id
            - to_uuid:
                _eq: X-Hasura-User-Id
    - role: teacher
      permission:
        columns:
          - created_at
          - from_id
          - from_uuid
          - id
          - payload
          - to_id
          - to_uuid
          - updated_at
        filter:
          _or:
            - from_uuid:
                _eq: X-Hasura-User-Id
            - to_uuid:
                _eq: X-Hasura-User-Id
- table:
    name: mentor_time
    schema: public
- table:
    name: postgraduate_application
    schema: public
  object_relationships:
    - name: mentor
      using:
        foreign_key_constraint_on: mentor_info_id
  array_relationships:
    - name: history
      using:
        manual_configuration:
          column_mapping:
            mentor_info_id: mentor_info_id
            user_id: user_id
          insertion_order: null
          remote_table:
            name: postgraduate_application_history
            schema: public
  select_permissions:
    - role: counselor
      permission:
        columns:
          - user_id
          - mentor_info_id
          - status
          - created_at
          - updated_at
          - verified
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - verified
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - verified
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        check: null
    - role: teacher
      permission:
        columns:
          - verified
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        check: null
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
    - role: teacher
      permission:
        backend_only: false
        filter: {}
- table:
    name: postgraduate_application_history
    schema: public
  object_relationships:
    - name: mentor
      using:
        foreign_key_constraint_on: mentor_info_id
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
    - role: teacher
      permission:
        check: {}
        columns:
          - user_id
          - mentor_info_id
          - created_at
          - updated_at
          - status
  select_permissions:
    - role: counselor
      permission:
        columns:
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        check: null
    - role: teacher
      permission:
        columns:
          - mentor_info_id
          - user_id
          - created_at
          - updated_at
          - status
        filter: {}
        check: null
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
- table:
    name: postgraduate_mentor_info
    schema: public
  array_relationships:
    - name: applications
      using:
        foreign_key_constraint_on:
          column: mentor_info_id
          table:
            name: postgraduate_application
            schema: public
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        set:
          editor: x-hasura-User-Id
        columns:
          - verified
          - id
          - alternate_contact
          - contact
          - detail_info
          - field
          - home_page
          - mentor
          - created_at
          - updated_at
          - editor
          - user_id
          - phd_quota
          - phd_quota_unfixed
    - role: teacher
      permission:
        check: {}
        set:
          editor: x-hasura-User-Id
        columns:
          - verified
          - id
          - alternate_contact
          - contact
          - detail_info
          - field
          - home_page
          - mentor
          - created_at
          - updated_at
          - editor
          - user_id
          - phd_quota
          - phd_quota_unfixed
  select_permissions:
    - role: counselor
      permission:
        columns:
          - verified
          - id
          - alternate_contact
          - contact
          - detail_info
          - field
          - home_page
          - mentor
          - created_at
          - updated_at
          - editor
          - user_id
          - phd_quota
          - phd_quota_unfixed
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - verified
          - id
          - alternate_contact
          - contact
          - detail_info
          - field
          - home_page
          - mentor
          - created_at
          - updated_at
          - editor
          - user_id
          - phd_quota
          - phd_quota_unfixed
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - alternate_contact
          - contact
          - created_at
          - detail_info
          - editor
          - field
          - home_page
          - id
          - mentor
          - phd_quota
          - phd_quota_unfixed
          - updated_at
          - user_id
          - verified
        filter: {}
        check: {}
        set:
          user_id: x-hasura-User-Id
    - role: teacher
      permission:
        columns:
          - verified
          - id
          - alternate_contact
          - contact
          - detail_info
          - field
          - home_page
          - mentor
          - created_at
          - updated_at
          - editor
          - user_id
          - phd_quota
          - phd_quota_unfixed
        filter: {}
        check: {}
        set:
          editor: x-hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
    - role: teacher
      permission:
        backend_only: false
        filter:
          user_id:
            _eq: X-Hasura-User-Id
- table:
    name: postgraduate_mentor_info_pending
    schema: public
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - id
          - phd_quota
          - alternate_contact
          - contact
          - detail_info
          - home_page
          - lab
          - mentor
          - user_id
          - created_at
          - updated_at
    - role: teacher
      permission:
        check: {}
        columns:
          - id
          - created_at
          - updated_at
          - mentor
          - lab
          - phd_quota
          - contact
          - home_page
          - alternate_contact
          - detail_info
          - user_id
  select_permissions:
    - role: counselor
      permission:
        columns:
          - id
          - phd_quota
          - alternate_contact
          - contact
          - detail_info
          - home_page
          - lab
          - mentor
          - user_id
          - created_at
          - updated_at
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - id
          - phd_quota
          - alternate_contact
          - contact
          - detail_info
          - home_page
          - lab
          - mentor
          - user_id
          - created_at
          - updated_at
        filter: {}
        allow_aggregations: true
  update_permissions:
    - role: counselor
      permission:
        columns:
          - id
          - phd_quota
          - alternate_contact
          - contact
          - detail_info
          - home_page
          - lab
          - mentor
          - user_id
          - created_at
          - updated_at
        filter: {}
        check: {}
    - role: teacher
      permission:
        columns:
          - id
          - phd_quota
          - alternate_contact
          - contact
          - detail_info
          - home_page
          - lab
          - mentor
          - user_id
          - created_at
          - updated_at
        filter: {}
        check: {}
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
    - role: teacher
      permission:
        backend_only: false
        filter: {}
- table:
    name: scholarship_application
    schema: public
  object_relationships:
    - name: student_byuuid
      using:
        foreign_key_constraint_on: student_uuid
  insert_permissions:
    - role: counselor
      permission:
        check: {}
        columns:
          - id
          - created_at
          - updated_at
          - scholarship
          - amount
          - status
          - student_id
          - thank_letter
          - code
          - honor
          - form_url
          - student_uuid
  select_permissions:
    - role: counselor
      permission:
        columns:
          - amount
          - code
          - form_url
          - honor
          - scholarship
          - status
          - student_id
          - thank_letter
          - created_at
          - updated_at
          - id
          - student_uuid
        filter: {}
    - role: student
      permission:
        columns:
          - amount
          - code
          - created_at
          - form_url
          - honor
          - id
          - scholarship
          - status
          - student_id
          - student_uuid
          - thank_letter
          - updated_at
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: student
      permission:
        columns:
          - form_url
          - thank_letter
        filter:
          student_uuid:
            _eq: X-Hasura-User-Id
        check:
          student_uuid:
            _eq: X-Hasura-User-Id
  delete_permissions:
    - role: counselor
      permission:
        backend_only: false
        filter: {}
- table:
    name: scholarships_aids
    schema: public
  select_permissions:
    - role: counselor
      permission:
        columns:
          - IsAids
          - amount
          - code
          - name
          - salutation
          - type
        filter: {}
    - role: student
      permission:
        columns:
          - IsAids
          - amount
          - code
          - name
          - salutation
          - type
        filter: {}
    - role: teacher
      permission:
        columns:
          - IsAids
          - amount
          - code
          - name
          - salutation
          - type
        filter: {}
- table:
    name: share_course
    schema: public
  select_permissions:
    - role: student
      permission:
        columns:
          - year
          - code
          - fullname
          - language
          - name
          - professor
          - semester
          - type
          - uuid
        filter: {}
- table:
    name: users
    schema: public
  object_relationships:
    - name: mentor_available
      using:
        foreign_key_constraint_on:
          column: mentor_uuid
          table:
            name: mentor_available
            schema: public
  array_relationships:
    - name: contest_team_members
      using:
        foreign_key_constraint_on:
          column: user_uuid
          table:
            name: contest_team_member
            schema: public
    - name: mentor_application_as_mentor
      using:
        foreign_key_constraint_on:
          column: mentor_uuid
          table:
            name: mentor_application
            schema: public
    - name: mentor_application_as_student
      using:
        foreign_key_constraint_on:
          column: student_uuid
          table:
            name: mentor_application
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - class
          - created_at
          - department
          - email
          - github_id
          - id
          - phone
          - realname
          - role
          - student_no
          - tsinghua_email
          - updated_at
          - username
          - uuid
        filter: {}
    - role: counselor
      permission:
        columns:
          - class
          - created_at
          - department
          - email
          - github_id
          - id
          - phone
          - realname
          - role
          - student_no
          - tsinghua_email
          - updated_at
          - username
          - uuid
        filter: {}
    - role: student
      permission:
        columns:
          - class
          - created_at
          - department
          - email
          - github_id
          - id
          - phone
          - realname
          - role
          - student_no
          - tsinghua_email
          - updated_at
          - username
          - uuid
        filter: {}
    - role: teacher
      permission:
        columns:
          - class
          - created_at
          - department
          - email
          - github_id
          - id
          - phone
          - realname
          - role
          - student_no
          - tsinghua_email
          - updated_at
          - username
          - uuid
        filter: {}
    - role: user
      permission:
        columns:
          - class
          - created_at
          - department
          - email
          - github_id
          - id
          - phone
          - realname
          - role
          - student_no
          - tsinghua_email
          - updated_at
          - username
          - uuid
        filter: {}
  update_permissions:
    - role: counselor
      permission:
        columns:
          - class
          - department
          - github_id
          - phone
          - realname
          - student_no
          - username
        filter:
          uuid:
            _eq: X-Hasura-User-Id
        check: null
    - role: student
      permission:
        columns:
          - class
          - department
          - github_id
          - phone
          - realname
          - student_no
          - username
        filter:
          uuid:
            _eq: X-Hasura-User-Id
        check: null
    - role: teacher
      permission:
        columns:
          - class
          - department
          - github_id
          - phone
          - realname
          - student_no
          - username
        filter:
          uuid:
            _eq: X-Hasura-User-Id
        check: null
    - role: user
      permission:
        columns:
          - class
          - department
          - github_id
          - phone
          - realname
          - student_no
          - username
        filter:
          uuid:
            _eq: X-Hasura-User-Id
        check: null
- table:
    name: weekly
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - id
          - tags
          - title
          - url
        filter: {}
    - role: counselor
      permission:
        columns:
          - id
          - tags
          - title
          - url
        filter: {}
        allow_aggregations: true
    - role: student
      permission:
        columns:
          - id
          - tags
          - title
          - url
        filter: {}
        allow_aggregations: true
    - role: teacher
      permission:
        columns:
          - id
          - tags
          - title
          - url
        filter: {}
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - id
          - tags
          - title
          - url
        filter: {}
